{
    "homepage": "https://github.com/zzzgydi/clash-verge",
    "description": "A Clash GUI based on tauri",
    "version": "1.1.2",
    "license": "GPL-3.0-only",
    "depends": "sudo",
    "suggest": {
        "Clash.Meta": "Koolar/clash-meta",
        "Clash.Meta compatible": "Koolar/clash-meta-compatible"
    },
    "url": "https://github.com/zzzgydi/clash-verge/releases/download/v1.1.2/Clash.Verge_1.1.2_x64_portable.zip",
    "hash": "ec9f77366348255da856f4ec459f2dc5b89c2addf9211cd3d9a4045a00321512",
    "shortcuts": [
        [
            "Clash Verge.exe",
            "Clash Verge"
        ]
    ],
    "persist": ".config",
    "post_install": [
        "# https://github.com/zzzgydi/clash-verge/issues/21#issuecomment-1097467046=",
        "if (-not (Test-Path \"$persist_dir\\.config\\PORTABLE\")) {",
        "    New-Item -Path \"$persist_dir\\.config\\PORTABLE\" -ItemType file | Out-Null",
        "}",
        "",
        "if (Test-Path \"$scoopdir\\apps\\clash-meta\\current\\clash-meta.exe\") {",
        "    Rename-Item \"$dir\\clash-meta.exe\" \"clash-meta.exe.bac\"",
        "    New-Item \"$dir\\clash-meta.exe\" -ItemType HardLink -Value \"$scoopdir\\apps\\clash-meta\\current\\clash-meta.exe\" -Force | Out-Null",
        "} elseif (Test-Path \"$scoopdir\\apps\\clash-meta-compatible\\current\\clash-meta.exe\") {",
        "    Rename-Item \"$dir\\clash-meta.exe\" \"clash-meta.exe.bac\"",
        "    New-Item \"$dir\\clash-meta.exe\" -ItemType HardLink -Value \"$scoopdir\\apps\\clash-meta-compatible\\current\\clash-meta.exe\" -Force | Out-Null",
        "}"
    ],
    "uninstaller": {
        "script": [
            "$service = Get-Service -Name clash_verge_service -ErrorAction SilentlyContinue",
            "if ($service -ne $null) {",
            "    sudo sc.exe delete clash_verge_service",
            "}"
        ]
    },
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/zzzgydi/clash-verge/releases/download/v$version/Clash.Verge_$version_x64_portable.zip"
    }
}
